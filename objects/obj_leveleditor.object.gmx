<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-1000</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//3D mouse initialization
convert_prepare(obj_camera.xfrom, obj_camera.yfrom, obj_camera.zfrom, obj_camera.xto, obj_camera.yto, obj_camera.zto, obj_camera.xup, obj_camera.yup, obj_camera.zup, obj_camera.fov, global.aspect_ratio);
select_x = 0;
select_y = 0;
select_z = 0;
cur_select = noone; //The current instance selected. 
cur_tool = 0; //0 = draw 1 = select, 2 = erase

//Hierarchy Selection and Rendering
hierarchy_ini();
cur_window = 0; // 0 = Prefab Hierarchy | 1 = File Manager | 2 = Instance Viewer
cur_x = 0;
cur_y = 0;
sel_x = -1;
sel_y = -1;
//cur_list X = index Y = param (obj, spr, name)
folder_goto("root");
line_width = 3;
list_scroll = 0;
list_scroll_band = 0; //value that list_scroll approches.

//The current object that gets created.
cur_object = obj_block_floor;
//String that stores the list of folders.
hierarchy = "Environments &gt; Infinity Plains";
//if the editor is minimized. 
editorclosed = false;
//if a drop down menu is currently active.
dropdown = false;
//cursor = instance_create(select_x,select_y,cur_object)

placeover = -1;
//mask_index = cur_object.mask_index
d3d_on = true;
cursor = background_get_texture(bac_oe_cursor);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (!d3d_on)
{
    select_x = (floor((mouse_x) / 64)) * 64;
    select_y = (floor((mouse_y) / 64)) * 64;
}
else
{
    convert_prepare(obj_camera.xfrom, obj_camera.yfrom, obj_camera.zfrom, obj_camera.xto, obj_camera.yto, obj_camera.zto, obj_camera.xup, obj_camera.yup, obj_camera.zup, obj_camera.fov, global.aspect_ratio);
    convert_2d(mouse_x, mouse_y, obj_camera.xfrom, obj_camera.yfrom, obj_camera.zfrom, 0);
    select_x = (floor((x_3d) / 64)) * 64;
    select_y = (floor((y_3d) / 64)) * 64;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
if keyboard_check(ord('X'))
{
//toggle drawover
placeover*=-1
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="53">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var inviewport, inproperties;
inviewport = (mouse_x &lt; 480 and mouse_y &gt; 32 and!dropdown) or editorclosed
inhierarchy = mouse_y &lt; 544
inproperties = mouse_y &gt;= 544
intopbar = mouse_y &lt; 32
if intopbar
{
    if mouse_x &gt; 54 and mouse_x &lt; 111
    {
        if !instance_exists(obj_oe_dropmenu_file)
        {
            //instance_create(54, 32, obj_oe_dropmenu_file)
        }
    }
}
if inviewport
{

    if inhierarchy
    {
        if (hierarchyselect() &gt;= 0)
        {
            if hierarchyselect() &lt; ds_grid_width(cur_list) - (cur_line * line_width)
            {
                if ((cur_x + (cur_y * line_width)) == hierarchyselect())
                {
                    sel_x = hierarchyselect() mod 3
                    sel_y = floor(hierarchyselect() / 3) 
                    cur_object = ds_grid_get(cur_list, hierarchyselect() + (cur_line * line_width), 0)
                    if is_string(cur_object)
                    {
                        folder_goto(cur_object)
                    }
                }
                else
                {
                cur_x = hierarchyselect() mod 3
                cur_y = floor(hierarchyselect() / 3)
                }

            }
        }
    }
    if inproperties
    {
        //test
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="51">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var inviewport, inproperties;
inviewport = (mouse_x &lt; 480 and mouse_y &gt; 32 and!dropdown) or editorclosed
inhierarchy = mouse_y &lt; 544
inproperties = mouse_y &gt;= 544

if inviewport
{

    if inhierarchy
    {
    //Do something
    }
    if inproperties
    {
        //test
    }
}
if !inviewport and mouse_y &gt; 32
{
    //Can't place inside viewport
    colid = collision_point(select_x+32,select_y+32,all,true,true)
    //object_is_ancestor(colid, obj_ui_par)
    if  !object_is_ancestor(colid, obj_ui_par) and colid
    {
        with (colid)
        {
        instance_destroy()
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="50">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var inviewport, inproperties;
inviewport = (mouse_x &lt; 480 and mouse_y &gt; 32 and!dropdown) or editorclosed
inhierarchy = mouse_y &lt; 544
inproperties = mouse_y &gt;= 544

if inviewport
{

    if inhierarchy
    {
    //Do something
    }
    if inproperties
    {
        //test
    }
}
if !inviewport and mouse_y &gt; 32
{
    //Can't place inside viewport
    if !is_string(cur_object) and (place_empty(select_x, select_y) or placeover)
    {
        instance_create(select_x, select_y, cur_object)
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>b = make_color_rgb(72, 72, 72)
draw_rectangle_color(0, 0, 480, view_hview, b, b, b, b, false)
draw_background_stretched(bac_oe_shadowr, 480, 0, 11, view_hview)
draw_background_stretched(bac_oe_subbar, 0, 32, 480, 32)
draw_set_valign(fa_middle)
draw_set_font(fon_main12)
draw_background_stretched(bac_oe_subbar, 0, 32, 480, 32)
draw_background_stretched(bac_oe_subbar, 0, 544, 480, 32)
draw_text(16, 48, "Hierarchy View")
//draw_text(16, 544 + 16, "Properties")
/*
Hierarchy Window
A file browser that lets you select prefabs for placement in the engine.
*/
if cur_window = 0
{
    hierarchy_draw();
}
/*
Instance Window
A list of all the current instances in the room that you can imediately go to. 
*/
if cur_window = 1
{
    filemanager_draw();
}

/*
Instance Window
A list of all the current instances in the room that you can imediately go to. 
*/
if cur_window = 2
{
    instancelist_draw();
}
draw_background_stretched(bac_oe_scrollbar, 448, 64, 32, 480)
/*
Properties Window
A list of editable parameters that the currently selected could be assigned. 
*/
//----Test
/*
Top Menu
*/
draw_background_stretched(bac_oe_topbar, 0, 0, view_wview, 43) draw_set_font(fon_main18)
draw_text(12, 16, "ORA Editor")
draw_set_halign(fa_right)
draw_set_font(fon_main12)
draw_text(view_wview - 16, 16, string(instance_count) + " obj | " + string(fps) + " fps | Version 0.5")
draw_set_valign(fa_top)
draw_set_halign(fa_left)
//draw_text(640,48,string(sel_x))
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>xlength=64
ylength=64
zlength=-64

d3d_draw_wall(select_x,select_y,select_z,select_x+(image_xscale*xlength),select_y,select_z+zlength,cursor,1,1);
//facing wall
d3d_draw_floor(select_x,select_y,select_z,select_x+xlength*image_xscale,select_y+ylength,select_z,cursor,1,1);
//Bottom wall
d3d_draw_wall(select_x,select_y+ylength,select_z,select_x+(image_xscale*xlength),select_y+ylength,select_z+zlength,cursor,1,1);
//left wall
d3d_draw_floor(select_x,select_y,select_z,select_x,select_y+ylength,select_z+zlength,cursor,1,1);
//right wall
d3d_draw_floor(select_x+(image_xscale*xlength),select_y,select_z,select_x+(image_xscale*xlength),select_y+ylength,select_z+zlength,cursor,1,1);
draw_set_color(c_white)

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
